# 도구(TOOLS) 설계

## 개요
- 안전하고 재현 가능한 파일/터미널/훅/MCP 실행을 제공.
- 모든 실행은 구조화 로그와 아티팩트(디프/출력)를 남김.

## 파일시스템 도구
- 기능: read/write/patch/delete/list.
- 경계: 프로젝트 루트 바운더리, 경로 정규화로 탈출 방지.
- 안전장치: 드라이런/미리보기, 대량 변경 감지, 사용자 확인.

## 터미널 실행기
- 실행: `os/exec` + 시간/메모리/출력 제한, 환경변수 화이트리스트.
- 스트리밍: stdout/stderr SSE, 종료 코드 이벤트.
- 분석: 출력 패턴 매칭(오류/경고), 요약 리포트.

## 후크 실행기
- `make fmt && make test && make lint` 일괄 실행, 실패 시 즉시 중단/리턴.
- 각 단계 구조화 로그 및 제안.

## MCP 클라이언트
- 목적: 외부 도구(예: Playwright MCP) 호출로 브라우저/테스트/관측 강화.
- 인터페이스: 도구 목록 조회, 스키마 검증, 호출/로그 수집.
- 보안: 외부 호출은 옵트인, 허용 도메인/토큰 스코프.

## 감사/관측
- Run/ExecutionLog로 모든 실행 기록(명령/인수/환경 요약/결과/아티팩트 경로).
- 메트릭: 성공률, 평균 지연, 실패 유형 분포.

